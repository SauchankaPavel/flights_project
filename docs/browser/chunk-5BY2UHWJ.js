import{A as at,B as mt,D as O,E as st,F as pt,G as ct,H as I,J as ft,a as x,i as b,l as W,m as X,o as Y,q as Z,r as tt,s as et,t as v,u as it,v as nt,w as ot,y as rt,z as lt}from"./chunk-INBZFCPB.js";import{Da as o,Ea as n,F as _,Fa as p,Ga as q,Ia as f,Ja as D,L as B,M as G,S as H,Ta as a,Ua as g,Va as F,Wa as C,Ya as S,Za as U,_a as j,ca as z,da as l,ha as u,la as s,ma as M,mb as d,oa as A,pb as J,qa as c,qb as K,r as V,ua as m,xb as Q,yb as L}from"./chunk-BZCHIWYG.js";var P=class i{transform(e){let t=Math.floor(e/60),r=e%60;return`${t}h ${r}min`}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=A({name:"timeFormat",type:i,pure:!0,standalone:!1})};function Ct(i,e){if(i&1&&(o(0,"div",7)(1,"div",8),p(2,"img",9),n(),o(3,"div",10)(4,"div",11),a(5),n(),o(6,"div",12),a(7),S(8,"date"),n()(),o(9,"div",10)(10,"div",11),a(11),n(),o(12,"div",12),a(13),S(14,"date"),n()(),o(15,"div",10)(16,"div",11),a(17),S(18,"timeFormat"),n(),o(19,"div",12),a(20),n()()()),i&2){let t=e.$implicit;l(2),m("src","https://d263qmvlt29h99.cloudfront.net/"+t.airline+".svg",z),l(3),g(t.departure_time),l(2),C(" ",t.departure_airport," \u25CF ",j(8,9,t.departure_date,"MMM dd")," "),l(4),g(t.arrival_time),l(2),C(" ",t.arrival_airport," \u25CF ",j(14,12,t.arrival_date,"MMM dd")," "),l(4),g(U(18,15,t.duration_minutes)),l(3),F(" ",t.stops?`${t.stops} Stops`:"Nonstops"," ")}}var E=class i{constructor(e,t){this.flightService=e;this.router=t}flightItem;bookFlight(e){e&&(this.flightService.setFlight(e),this.router.navigate(["/traveler"]))}static \u0275fac=function(t){return new(t||i)(u(x),u(Q))};static \u0275cmp=s({type:i,selectors:[["app-flight-card"]],inputs:{flightItem:"flightItem"},standalone:!1,decls:10,vars:2,consts:[[1,"flight-container"],[1,"flights-list-container"],["class","flight-details",4,"ngFor","ngForOf"],[1,"actions"],[1,"price"],[1,"status"],["mat-fab","","extended","",1,"book",3,"click"],[1,"flight-details"],[1,"logo"],["alt","Airline Logo",3,"src"],[1,"flight-details-info"],[1,"time"],[1,"date"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1),c(2,Ct,21,17,"div",2),n(),o(3,"div",3)(4,"div",4),a(5),n(),o(6,"div",5),a(7,"Per adult"),n(),o(8,"button",6),f("click",function(){return r.bookFlight(r.flightItem)}),a(9," Book "),n()()()),t&2&&(l(2),m("ngForOf",r.flightItem==null?null:r.flightItem.flights),l(3),F("$ ",r.flightItem==null?null:r.flightItem.price,""))},dependencies:[d,W,J,P],styles:[".flight-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid #E2E0E3;height:auto;border-radius:12px;margin-bottom:20px}.flight-container[_ngcontent-%COMP%]   .flights-list-container[_ngcontent-%COMP%]{height:100%;width:414px}.flight-container[_ngcontent-%COMP%]   .flights-list-container[_ngcontent-%COMP%]   .flight-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px}.flight-container[_ngcontent-%COMP%]   .flights-list-container[_ngcontent-%COMP%]   .flight-details[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#898390}.flight-container[_ngcontent-%COMP%]   .flights-list-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:auto}.flight-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:210px;border-left:1px solid #E2E0E3;display:flex;flex-direction:column;padding:15px}.flight-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px;margin:0 auto;font-weight:600}.flight-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:14px;margin:10px auto;font-weight:400;color:#898390}.flight-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]{margin:0 auto;width:80%}"]})};function _t(i,e){if(i&1&&(o(0,"div"),p(1,"app-flight-card",2),n()),i&2){let t=e.$implicit;l(),m("flightItem",t)}}var y=class i{flightItems=[];static \u0275fac=function(t){return new(t||i)};static \u0275cmp=s({type:i,selectors:[["app-flight-list"]],inputs:{flightItems:"flightItems"},standalone:!1,decls:2,vars:1,consts:[[1,"flight-list-component"],[4,"ngFor","ngForOf"],[3,"flightItem"]],template:function(t,r){t&1&&(o(0,"div",0),c(1,_t,2,1,"div",1),n()),t&2&&(l(),m("ngForOf",r.flightItems))},dependencies:[d,E],encapsulation:2})};function St(i,e){if(i&1&&(o(0,"mat-option",9),a(1),n()),i&2){let t=e.$implicit;m("value",t),l(),g(t)}}function xt(i,e){if(i&1){let t=q();o(0,"mat-checkbox",10),f("change",function(k){let T=B(t).$implicit,ht=D();return G(k.checked&&ht.onStopSelect(T.value))}),a(1),n()}if(i&2){let t=e.$implicit,r=D();m("checked",r.isStopSelected(t.value)),l(),F("",t.label," ")}}var w=class i{sortingValues=["Price (Lowest)","Price (Highest)"];priceRangeStart=0;priceRangeEnd=4400;checkboxOptions=[{value:0,label:"All stops"},{value:1,label:"Nonstop"},{value:2,label:"1 stop"},{value:3,label:"2 stops"}];filterForm=new et({sorting:new v("Price (Lowest)"),priceRangeStart:new v(this.priceRangeStart),priceRangeEnd:new v(this.priceRangeEnd),stops:new v(0)});filterFormChange=new H;constructor(){}ngOnInit(){this.filterForm.valueChanges.pipe(V(500)).subscribe(e=>{this.filterFormChange.emit({sorting:this.filterForm.controls.sorting.value||"",priceRangeStart:this.filterForm.controls.priceRangeStart.value||this.priceRangeStart,priceRangeEnd:this.filterForm.controls.priceRangeEnd.value||this.priceRangeEnd,stops:this.filterForm.controls.stops.value||0})})}isStopSelected(e){return this.filterForm.get("stops")?.value===e}onStopSelect(e){this.filterForm.get("stops")?.setValue(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=s({type:i,selectors:[["app-filters"]],outputs:{filterFormChange:"filterFormChange"},standalone:!1,decls:19,vars:5,consts:[[1,"filters-component",3,"formGroup"],["formControlName","sorting"],[3,"value",4,"ngFor","ngForOf"],[1,"slider-container"],["min","0","max","5000"],["formControlName","priceRangeStart","matSliderStartThumb",""],["formControlName","priceRangeEnd","matSliderEndThumb",""],[1,"stop-container"],[3,"checked","change",4,"ngFor","ngForOf"],[3,"value"],[3,"change","checked"]],template:function(t,r){t&1&&(o(0,"form",0)(1,"div")(2,"mat-label"),a(3,"Sort By"),n(),o(4,"mat-form-field")(5,"mat-select",1),c(6,St,2,2,"mat-option",2),n()()(),o(7,"div",3)(8,"mat-label"),a(9,"Price"),n(),o(10,"mat-label"),a(11),n(),o(12,"mat-slider",4),p(13,"input",5)(14,"input",6),n()(),o(15,"div",7)(16,"mat-label"),a(17,"Stops"),n(),c(18,xt,2,2,"mat-checkbox",8),n()()),t&2&&(m("formGroup",r.filterForm),l(6),m("ngForOf",r.sortingValues),l(5),C("",r.filterForm.controls.priceRangeStart.value,"-",r.filterForm.controls.priceRangeEnd.value,""),l(7),m("ngForOf",r.checkboxOptions))},dependencies:[d,mt,at,O,b,st,pt,I,it,Y,Z,tt,nt,ot],styles:[".filters-component[_ngcontent-%COMP%]{border-radius:12px;border:1px solid #E2E0E3;padding:16px}.filters-component[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%], .filters-component[_ngcontent-%COMP%]   .stop-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})};var R=class i{constructor(e){this.flightService=e}currentflightItems=[];ngOnInit(){this.flightService.getFlights().subscribe(e=>{this.currentflightItems=e})}filterFormChangeHandler(e){this.flightService.getFlights(e).subscribe(t=>{this.currentflightItems=t})}static \u0275fac=function(t){return new(t||i)(u(x))};static \u0275cmp=s({type:i,selectors:[["app-flight"]],standalone:!1,decls:3,vars:1,consts:[[1,"flight-component"],[3,"filterFormChange"],[3,"flightItems"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"app-filters",1),f("filterFormChange",function(T){return r.filterFormChangeHandler(T)}),n(),p(2,"app-flight-list",2),n()),t&2&&(l(2),m("flightItems",r.currentflightItems))},dependencies:[y,w],styles:[".flight-component[_ngcontent-%COMP%]{height:100%;margin:30px auto;max-width:880px;display:flex;justify-content:space-between}.flight-component[_ngcontent-%COMP%]   app-filters[_ngcontent-%COMP%]{width:240px}.flight-component[_ngcontent-%COMP%]   app-flight-list[_ngcontent-%COMP%]{width:624px}"]})};var Ot=[{path:"",component:R}],N=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=M({type:i});static \u0275inj=_({imports:[L.forChild(Ot),L]})};var dt=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=M({type:i});static \u0275inj=_({imports:[K,N,ft,O,b,ct,I,X,lt,rt]})};export{dt as FlightModule};
